<div class="expense-form">
      <h3>Spese</h3>

      <div class="form-row cols-3 mt">
        <div>
          <label>Importo (€)</label>
          <input class="input" type="number" step="0.01" [(ngModel)]="amount" />
        </div>
        <div class="">
          <label>Descrizione</label>
          <input class="input" [(ngModel)]="description" placeholder="Es. spesa ingredienti" />
        </div>
        <div class="center">
          <button class="btn mt" (click)="add()">Aggiungi (dividi tra going)</button>
        </div>
      </div>

      <table class="table mt" *ngIf="rows().length">
        <thead>
          <tr><th>Chi ha pagato</th><th>Descrizione</th><th>Importo</th><th>Quote</th><th>Quando</th></tr>
        </thead>
        <tbody>
          <tr *ngFor="let e of rows()">
            <td>{{ e.payer_name }}</td>
            <td>{{ e.description }}</td>
            <td>€ {{ e.amount | number:'1.2-2' }}</td>
            <td>
              <span class="badge" *ngFor="let s of e.shares" style="margin-right:6px;">
                {{ s.name }}: € {{ s.amount | number:'1.2-2' }}
              </span>
            </td>
            <td>{{ e.created_at | date:'short' }}</td>
          </tr>
        </tbody>
      </table>

      <p *ngIf="!rows().length" class="muted mt">Nessuna spesa inserita.</p>
      <p *ngIf="message()" class="mt">{{ message() }}</p>
    </div>